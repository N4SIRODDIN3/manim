(self.webpackChunklite=self.webpackChunklite||[]).push([[2332],{69100:(e,t,n)=>{var r=n(99489),o=n(57067);function i(t,n,u){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},70430:e=>{e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},57067:e=>{e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},65957:(e,t,n)=>{var r=n(29754),o=n(99489),i=n(70430),u=n(69100);function c(t){var n="function"==typeof Map?new Map:void 0;return e.exports=c=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return u(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},c(t)}e.exports=c},1250:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var r=n(28655),o=n.n(r),i=n(71439),u=n(46829),c=n(67294),s=n(42963),a=n(8403),l=n(67297);function p(){var e=o()(["\n  query InlineExpandingPostCanonicalizer($postId: ID!) {\n    post(id: $postId) {\n      mediumUrl\n    }\n  }\n"]);return p=function(){return e},e}var f=(0,i.Ps)(p()),d=function(e){var t,n=e.children,r=(0,a.Wd)("p"),o=(0,l.v9)((function(e){return e.client.hydrated})),i=(0,u.useQuery)(f,{variables:{postId:r||""},skip:!r}).data;return null!=i&&null!==(t=i.post)&&void 0!==t&&t.mediumUrl&&!o?c.createElement(s.l,{to:i.post.mediumUrl,replace:!0}):n}},50792:(e,t,n)=>{"use strict";n.d(t,{z:()=>O,E:()=>P});var r=n(59713),o=n.n(r),i=n(28655),u=n.n(i),c=n(8575),s=n(71439),a=n(67294),l=n(75341),p=n(42963),f=n(80177),d=n(8403),g=n(67297),v=n(96879);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){var e=u()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return m=function(){return e},e}var O=(0,s.Ps)(m()),b=["blog.coinbase.com","moody-pub.medium.fail"],P=function(e){var t=e.post.mediumUrl,n=e.matchedPath,r=e.children,o=(0,g.v9)((function(e){return e.navigation.currentHash})),i=(0,d.Wd)("showDomainSetup"),u=(0,d.Wd)("postPublishedType"),s=(0,d.Wd)("responsesOpen"),y=(0,d.PM)(),m=(0,d.G1)(),O=(0,g.v9)((function(e){return e.navigation.host})),P=(0,l.zM)();if(!t||P)return r;var _=c.parse(decodeURIComponent(t)),S=h(h(h(h(h({},y?{source:y}:{}),m?{sk:m}:{}),u?{postPublishedType:u}:{}),i?{showDomainSetup:i}:{}),s?{responsesOpen:s}:{});return O!==_.host?b.indexOf(O)>-1?a.createElement(f.$,null):a.createElement(p.l,{to:(0,v.Rk)(t,S,o),replace:!0}):_.path&&n!==_.path?a.createElement(p.l,{to:(0,v.Rk)(_.path,S,o),replace:!0}):r}},90820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PostHandler:()=>J});var r=n(59713),o=n.n(r),i=n(28655),u=n.n(i),c=n(46829),s=n(71439),a=n(67294),l=n(6672),p=n(1250),f=n(50792),d=n(25537),g=n(32149),v=n(66893),y=n(95760),h=n(31235),m=n(53976),O=n(1932),b=n(51512),P=n(96890),_=n(2874),S=n(52383),w=n(90320),E=n(80177),x=n(54247),j=n(8403),M=n(67297),I=n(27952);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(){var e=u()(["\n  query PostMeter($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...PostScreen_meteringInfo\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function $(){var e=u()(["\n  query PostHandler(\n    $postId: ID!\n    $postMeteringOptions: PostMeteringOptions\n    $includePostInternalLinks: Boolean!\n    $includePostRecirc: Boolean = false\n    $postRecircPaging: PaginationLimit\n  ) {\n    postResult(id: $postId) {\n      __typename\n      ...PostResultError_postResult\n      ... on Post {\n        ...PostScreen_post\n        ...PostCanonicalizer_post\n        creator {\n          ...useShouldShowEntityDrivenSubscription_creator\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return $=function(){return e},e}var U=(0,s.Ps)($(),l.iT,f.z,x.m6,g.G),C=(0,s.Ps)(k(),x.De),J=function(e){var t,n=e.match,r=(0,d.o)(),o=(0,M.v9)((function(e){var t,n,o=e.config.recircOptions;return r?null==o||null===(t=o.v2)||void 0===t?void 0:t.limit:null==o||null===(n=o.v1)||void 0===n?void 0:n.limit})),i=(0,M.v9)((function(e){return e.navigation.referrer})),u=(0,j.G1)(),s=(0,j.PM)(),g=(0,h.xg)();!function(){var e=(0,v.Vb)(),t=(0,h.xg)(),n=(0,h.Wj)(),r=(0,y.Av)(),o=JSON.stringify(e);a.useEffect((function(){var o,i;e&&Object.keys(e).length&&t&&(o=e,i=(new TextEncoder).encode(JSON.stringify(o)),crypto.subtle.digest("SHA-256",i).then((function(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}))).then((function(e){e!==n&&r.event("client.edgeCacheVariantMismatch",{})}))}),[o])}();var D=(0,I.mrd)(n)||"",k={referrer:i,sk:u,source:s},$=(0,c.useQuery)(C,{variables:{postId:D,postMeteringOptions:k},ssr:!g}).data,J=($=void 0===$?{}:$).meterPost,N=(0,c.useQuery)(U,{variables:{postId:D,includePostInternalLinks:r,postRecircPaging:o||3,postMeteringOptions:g?void 0:k},skip:!D}),z=N.loading,F=N.error,T=N.data,W=(T=void 0===T?{}:T).postResult,A=N.refetch,L=N.fetchMore,H="Post"===(null==W?void 0:W.__typename)&&!(null==W||null===(t=W.content)||void 0===t||!t.isLockedPreviewOnly),q=(0,O.n)(D,H).content,B=W&&q?R(R({},W),{},{content:q}):W,G=(0,m.VB)({name:"eds_public_story_to_membership_landing_page",placeholder:!1}),Q=a.useMemo((function(){return{name:"post_page",postId:D}}),[D]),V=a.useMemo((function(){return D?(0,l.rK)(B)?null:G&&B.creator&&!s&&!B.isLocked?a.createElement(b.cW,{source:Q},a.createElement(_.d0,{user:B.creator,redirectExperiment:!0,postId:D})):a.createElement(p.k,null,a.createElement(f.E,{post:B,matchedPath:n.url,key:D},a.createElement(b.cW,{source:Q},a.createElement(x.gc,{meteringInfo:J,post:B})))):null}),[Q,n.url,D,JSON.stringify(B),JSON.stringify(J)]);return D?z?a.createElement(w.a,null):F?a.createElement(S.C,{error:F}):(0,l.rK)(B)?a.createElement(l.Ij,{postResult:B}):a.createElement(P.x.Provider,{value:{refetch:A,fetchMore:L,postId:D}},V):a.createElement(E.$,null)}},63012:(e,t,n)=>{var r=n(97786),o=n(10611),i=n(71811);e.exports=function(e,t,n){for(var u=-1,c=t.length,s={};++u<c;){var a=t[u],l=r(e,a);n(l,a)&&o(s,i(a,e),l)}return s}},45220:e=>{e.exports=function(e){return null===e}},94885:e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},50308:e=>{e.exports=function(){}},14176:(e,t,n)=>{var r=n(67206),o=n(94885),i=n(35937);e.exports=function(e,t){return i(e,o(r(t)))}},35937:(e,t,n)=>{var r=n(29932),o=n(67206),i=n(63012),u=n(46904);e.exports=function(e,t){if(null==e)return{};var n=r(u(e),(function(e){return[e]}));return t=o(t),i(e,n,(function(e,n){return t(e,n[0])}))}},18029:(e,t,n)=>{var r=n(35393),o=n(11700),i=r((function(e,t,n){return e+(n?" ":"")+o(t)}));e.exports=i},68254:e=>{"use strict";var t=Math.floor(1099511627776*Math.random()).toString(16),n=new RegExp('"@__(F|R|D|M|S|U)-'+t+'-(\\d+)__@"',"g"),r=/\{\s*\[native code\]\s*\}/g,o=/function.*?\(/,i=/.*?=>.*?/,u=/[<>\/\u2028\u2029]/g,c=["*","async"],s={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function a(e){return s[e]}e.exports=function e(s,l){l||(l={}),"number"!=typeof l&&"string"!=typeof l||(l={space:l});var p,f=[],d=[],g=[],v=[],y=[],h=[];return l.ignoreFunction&&"function"==typeof s&&(s=void 0),void 0===s?String(s):"string"!=typeof(p=l.isJSON&&!l.space?JSON.stringify(s):JSON.stringify(s,l.isJSON?null:function(e,n){if(l.ignoreFunction&&function(e){var t=[];for(var n in e)"function"==typeof e[n]&&t.push(n);for(var r=0;r<t.length;r++)delete e[t[r]]}(n),!n&&void 0!==n)return n;var r=this[e],o=typeof r;if("object"===o){if(r instanceof RegExp)return"@__R-"+t+"-"+(d.push(r)-1)+"__@";if(r instanceof Date)return"@__D-"+t+"-"+(g.push(r)-1)+"__@";if(r instanceof Map)return"@__M-"+t+"-"+(v.push(r)-1)+"__@";if(r instanceof Set)return"@__S-"+t+"-"+(y.push(r)-1)+"__@"}return"function"===o?"@__F-"+t+"-"+(f.push(r)-1)+"__@":"undefined"===o?"@__U-"+t+"-"+(h.push(r)-1)+"__@":n},l.space))?String(p):(!0!==l.unsafe&&(p=p.replace(u,a)),0===f.length&&0===d.length&&0===g.length&&0===v.length&&0===y.length&&0===h.length?p:p.replace(n,(function(t,n,u){return"D"===n?'new Date("'+g[u].toISOString()+'")':"R"===n?"new RegExp("+e(d[u].source)+', "'+d[u].flags+'")':"M"===n?"new Map("+e(Array.from(v[u].entries()),l)+")":"S"===n?"new Set("+e(Array.from(y[u].values()),l)+")":"U"===n?"undefined":function(e){var t=e.toString();if(r.test(t))throw new TypeError("Serializing native function: "+e.name);if(o.test(t))return t;if(i.test(t))return t;var n=t.indexOf("("),u=t.substr(0,n).trim().split(" ").filter((function(e){return e.length>0}));return u.filter((function(e){return-1===c.indexOf(e)})).length>0?(u.indexOf("async")>-1?"async ":"")+"function"+(u.join("").indexOf("*")>-1?"*":"")+t.substr(n):t}(f[u])})))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/Post.065c9e6f.chunk.js.map